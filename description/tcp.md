### TCP 三次握手 - **Transmission Control Protocol**

- 客户端向服务端发送 SYN 连接请求报文段，报文段首部中 SYN 标志位置为 1，序号字段是一个随机数（x）表示客户端数据的初始序号 并进入 SYN_SEND 状态
- 服务端接收到该请求后，服务端首先会为该连接分配 TCP 缓存和变量，然后向客户端发送 SYN ACK 报文段，该报文段 SYN ACK 标志位置为 1，代表一个 SYN 连接请求的确认，同时序号字段产生一个随机数（y）代表服务端数据的初始序号。确认号字段为客户端发送的序号 + 1   进入SYN_RECEIVED
- 客户端接收到肯定应答之后，也为这次 TCP 连接分配缓存和变量，同时向服务端发送一个确认对服务端的报文段的确认。第三次可携带数据发送 并进入ESTABLISHED，服务端接收后也进入ESTABLISHED状态
- 为什么要三次，而不是两次
如果是两次的话，客户端没有太大变化，仍然需要服务端的应答后才进入 ESTABLISHED 状态，而服务端在收到连接请求后就进入 ESTABLISHED 状态。如果此时的网络拥塞，客户端发送的请求迟迟不到服务端，客户端便超时重发请求，如果服务端接收并确认应答，双方便开始通信，通信结束后释放。此时，失效的q连接请求到达服务端，由于是两次握手，服务端便进入 ESTABLISHED 状态，等待发送数据或主动发送数据。但此时的客户端早已进入 CLOSED 状态。服务端处于一直等待。浪费了带宽,防止已失效的连接请求又传送到服务器端，因而产生错误，确保信息的有序交付