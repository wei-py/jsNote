> https://www.csdn.net/tags/MtTaMgzsNzYyMTQ0LWJsb2cO0O0O.html
- 一般情况下，反射型XSS在搜索框啊，或者是页面跳转啊这些地方，而存储型XSS一般是留言，或者用户存储的地方，而DOM呢？是在DOM位置上，不取决于输入环境上。
### xss     ->  cross site script
- 反射型 构建特殊的 url , 当服务器接收到请求后, 从 url 中获取数据, 拼接到 HTML 中返回给用户, 浏览器执行代码
- 存储型 将恶意代码传到数据库中, 当用户请求数据时, 服务器拼接到 HTML 中返回给用户, 浏览器执行.
- DOM 型指的是攻击者构建了特殊的 URL，用户打开网站后，js 脚本从 URL 中获取数据，从而导致了恶意代码的执行。
- DOM 型 XSS 跟前两种 XSS 的区别：DOM 型 XSS 攻击中，取出和执行恶意代码由浏览器端完成，属于前端 JavaScript 自身的安全漏洞，而其他两种 XSS 都属于服务端的安全漏洞。
### 避免 xss
- 时机 攻击者提交恶意代码。 浏览器执行恶意代码。
- 如果我们对存入数据库的数据都进行的转义处理，但是一个数据可能在多个地方使用，有的地方可能不需要转义，由于我们没有办法判断数据最后的使用场景，所以直接在输入端进行恶意代码的处理，其实是不太可靠的。
- 因此我们可以从浏览器的执行来进行预防，一种是使用纯前端的方式，不用服务器端拼接后返回。
- 另一种是对需要插入到 HTML 中的代码做好充分的转义
- 对于 DOM 型的攻击，主要是前端脚本的不可靠而造成的，我们对于数据获取渲染和字符串拼接的时候应该对可能出现的恶意代码情况进行判断。
- 还有一些方式，比如使用 CSP ，CSP 的本质是建立一个白名单，告诉浏览器哪些外部资源可以加载和执行，从而防止恶意代码的注入攻击。
- 还可以对一些敏感信息进行保护，比如 cookie 使用 http-only ，使得脚本无法获取。也可以使用验证码，避免脚本伪装成用户执行一些操作。
- csp http-only 过滤 转义

### csp
通常有两种方式来开启 CSP，一种是设置 HTTP 首部中的 Content-Security-Policy，一种是设置 meta 标签的方式```<meta http-equiv="Content-Security-Policy"> ```

### csrf -> cross script request forgery
攻击者诱导用户点击进入第三方网站, 这个网站会向被攻击者网站发送跨站请求. 如果用户在被攻击者网站上保存了登录状态, 那么攻击者可以利用这个登录状态, 绕过用户后台认证, 冒充用户继续发送请求;
- get
- post
- a - href

### Samesite Cookie
